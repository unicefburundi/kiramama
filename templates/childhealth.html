{% extends "base.html" %}
{% load static %}
{% block title %}
	<title> {{ pagetitle }}</title>
{% endblock %}

{% block pagename %}CHILD HEALTH{% endblock %}

{% block head %}
<script type="text/javascript">
	$(document).ready(function() {
		$('.datepicker').datepicker({
		    dateFormat: 'yy-mm-dd',
		    startDate: '-3d'
		});
		
		$(".datepicker").datepicker("setDate", new Date());
	});
</script>

{% endblock %}



{% block container %}
	<script type="text/javascript" src="{% static "js/angular.min.js" %}"></script>
    <script type="text/javascript" src="{% static "js/angular-sanitize.min.js" %}"></script>
    <script type="text/javascript" src="{% static "js/childhealth.js" %}"></script>
		
	<div ng-app="ChildApp" ng-controller="ChildCtrl">
		<div class="form-inline" style="padding-left :5px; padding-right :5px;">
			<div class="form-group">
				<label for="province">Province:</label>
				<select id="province" class="form-control" style="width:140px"  ng-model="province" ng-options="x.name for x in provinces track by x.code" ng-change="update_province()"><option value="">[ Select District ]</option></select>
			</div>
			<div class="form-group">
				<label for="district">District:</label>
				<select id="district" class="form-control" style="width:140px" ng-model="district" ng-options="x.name for x in districts track by x.code" ng-change="update_district()"><option value="" selected="selected">[ Select District ]</option>'
				</select>
			</div>
			<div class="form-group">
				<label for="cds">CDS:</label>
				<select id="cds" class="form-control" style="width:140px" ng-model="cds" ng-options="x.name for x in cdss track by x.code" ng-change="update_cds()">
					<option value="" selected="selected">[ Select CDS ]</option>'
				</select>
			</div>

			<label for="dstartdate">Start Date:</label>
			<div class="input-group date" data-provide="datepicker">
			    <input type="text" id="startdate" class="form-control datepicker" readonly="readonly" style="width:130px" ng-model="startdate" ng-change="get_bydate()">
			    <div class="input-group-addon">
			        <span class="glyphicon glyphicon-th"></span>
			    </div>
			</div>
			<label for="dendtdate">End Date:</label>
			<div class="input-group date" data-provide="datepicker">
			    <input type="text" id="endtdate" class="form-control datepicker" readonly="readonly" style="width:130px" ng-model="enddate" ng-change="get_bydate()">
			    <div class="input-group-addon">
			        <span class="glyphicon glyphicon-th"></span>
			    </div>
			</div>
		<hr style="margin-top:10px; margin-bottom:10px">
		</div>
		<div class="contain" >
			<div class="table-responsive" >
				<table class="table" data-toggle="table">
					<thead>
						<tr>
					        <th>Birth ID</th>
					        <th>Date of Birth</th>
					        <th>Location</th>
					        <th>Child Number</th>
					        <th>Mother ID</th>
					        <th>Gender</th>
					        <th>Weight(Kg)</th>
					        <th>Breastfeeding</th>
					    </tr>
					</thead>
					<tbody>
					{% verbatim %}
						<tr ng-repeat="y in results">
                        	<td>{{y.id}}</td>
                        	<td>{{y.birth_date}}</td>
                        	<td>{{y.birth_location}}</td>
                        	<td>{{y.child_number}}</td>
                        	<td>{{y.mother_id}}</td>
                        	<td>{{y.gender}}</td>
                        	<td>{{y.weight}}</td>
                        	<td>{{y.breast_feading}}</td>
                        </tr>
					{% endverbatim %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
{% endblock %}